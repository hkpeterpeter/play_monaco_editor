<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<link
			rel="stylesheet"
			data-name="vs/editor/editor.main"
			href="../node_modules/monaco-editor/min/vs/editor/editor.main.css"
		/>
	</head>
	<body>
		<h2>Monaco Editor Sync Loading Sample</h2>
		<div id="container" style="width: 800px; height: 600px; border: 1px solid grey"></div>

		<script>
			var require = { paths: { vs: '../node_modules/monaco-editor/min/vs' } };
		</script>
		<script src="../node_modules/monaco-editor/min/vs/loader.js"></script>
		<script src="../node_modules/monaco-editor/min/vs/editor/editor.main.nls.js"></script>
		<script src="../node_modules/monaco-editor/min/vs/editor/editor.main.js"></script>

		<script>
			// Tool: https://www.base64encode.net/
			var encoded_text = "I2luY2x1ZGUgPHN0ZGlvLmg+IC8vIHByaW50ZigpIGZ1bmN0aW9uDQoNCi8qDQogIFRoaXMgaXMgYSBzYW1wbGUgaGVsbG8gd29ybGQgcHJvZ3JhbSBpbiBDDQoqLw0KaW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbIF0gKSANCnsNCiAgICBjaGFyIG5hbWVbMTAwXTsNCiAgICBwcmludGYoIkVudGVyIHlvdXIgbmFtZTogIik7DQogICAgc2NhbmYoIiVzIiwgbmFtZSk7DQogICAgcHJpbnRmKCJIZWxsbyBXb3JsZCwgJXMhXG4iLCBuYW1lKTsNCiAgICByZXR1cm4gMDsNCn0=";

			// options
			// https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.istandaloneeditorconstructionoptions.html
			var editor = monaco.editor.create(document.getElementById('container'), {
				value: [atob(encoded_text)].join('\n'),
				language: 'c',
				fontSize: "28px",
				//fontWeight: "bold",
				dragAndDrop: true, // drag and drop a selected text
				//hideCursorInOverviewRuler: true, // hide the overview ruler cursor 
				//lineNumbers: (n) => "L" + n,
				//lineNumbersMinChars: 8, // default: 5 characters
				linkedEditing: true, // default: false
				minimap: {
					enabled: false, // default: true. Setting false will remove the minimap
				},
				//renderControlCharacters: true, // default: false
				renderWhitespace: "all", // display all white space characters. default: "none"
				//rulers: [{ color: "red", column: 0}, { color: "green", column: 20}],
				smoothScrolling: true,
				wordWrap: true, // default: false
			});

			// Useful API doc
			// https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.istandalonecodeeditor.html

			//editor.trigger('fold', 'editor.foldAll');
			//editor.trigger('fold', 'editor.fold');

			// Go to line 3 and trigger a fold
			//editor.setPosition({column: 1, lineNumber:3});
			//editor.trigger('fold', 'editor.fold');

			//editor.setHiddenAreas([new monaco.Range(1,1,3,1), new monaco.Range(5,1,8,1)]) 
			//editor.setHiddenAreas([]); // remove all hidden areas

			//editor.setSelection(new monaco.Selection(1,1,6,1)); // select 5 lines
			//editor.setSelections([new monaco.Selection(1,1,3,1), new monaco.Selection(5,1,8,1)]); // select multiple lines

			
			
			//console.log("Dom node:", editor.getDomNode());
			console.log("editor type:", editor.getEditorType());
			console.log("id", editor.getId());
			console.log("layout info:", editor.getLayoutInfo());
			//console.log("get line decoration on line 1", editor.getLineDecorations(1));
			//console.log("model:", editor.getModel());
			console.log("options:", editor.getOptions());

			console.log("position:", editor.getPosition());
			console.log("raw options", editor.getRawOptions());
			console.log("getScrollHeight", editor.getScrollHeight());

			console.log("getSupportedActions", editor.getSupportedActions()); // Very Useful!
			var options = editor.getSupportedActions();
			for (var option of options) {
				console.log(option.id," ", option.label);
			}

			//editor.setSelection(new monaco.Selection(1,1,6,1)); // select 5 lines
			
			// zoom in 4 times
			//editor.trigger("", "editor.action.fontZoomIn");
			//editor.trigger("", "editor.action.fontZoomIn");
			//editor.trigger("", "editor.action.fontZoomIn");
			//editor.trigger("", "editor.action.fontZoomIn");

			// these 2 lines delete line 8
			//editor.setPosition({column: 1, lineNumber:8});
			//editor.trigger("","editor.action.deleteLines"); // delete line 8

			// select 5 lines and then transform to uppercase
			//editor.setSelection(new monaco.Selection(1,1,6,1)); // select 5 lines
			//editor.trigger("","editor.action.transformToUppercase");

			// indentation usage
			//editor.setSelection(new monaco.Selection(8,1,12,1)); // select line 8-11
			//editor.trigger("","editor.action.indentLines");


			// execute edit api
			/*
			editor.setPosition({column: 1, lineNumber:4});
			var line = editor.getPosition();
			var range = new monaco.Range(line.lineNumber, 1, line.lineNumber, 1);
			var id = { major: 1, minor: 1 };             
			var text = "FOO";
			var op = {identifier: id, range: range, text: text, forceMoveMarkers: true};
			editor.executeEdits("my-source", [op]);
			*/

			//editor.setPosition({column: 1, lineNumber:4});
			//editor.trigger('keyboard', 'type', {text: "test"});

		

		


		</script>
	</body>
</html>